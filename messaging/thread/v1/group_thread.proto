syntax = "proto3";

package webitel.messaging.thread.v1;

import "messaging/message/v1/peer.proto";
import "messaging/thread/v1/thread.proto";

option go_package = "github.com/webitel/contact/proto/gen/webitel/thread/v1;impb";

// ==========================================================
// Group Thread
// ==========================================================

service GroupThreadService {

  rpc CreateGroupThread(CreateGroupThreadRequest) returns (CreateGroupThreadResponse);
  rpc SearchGroupThread(SearchGroupThreadRequest) returns (SearchGroupThreadResponse);
}

// ==========================================================
// Requests / Responses
// ==========================================================

message CreateGroupThreadRequest {

  // Creator of the group.
  string from = 1;

  // Group or channel peer.
  repeated string to = 2;
}

message CreateGroupThreadResponse {
  Thread thread = 1;
}

message SearchGroupThreadRequest {

  // Requesting peer.
  repeated string from = 1;

  // Group or channel peer.
  repeated string members = 2;
}

message SearchGroupThreadResponse {
  Thread thread = 1;
}