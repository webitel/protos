syntax = "proto3";

package webitel.im.service.thread.v1;
import "buf/validate/validate.proto";

option go_package = "github.com/webitel/protos/messaging/thread/v1;impb";

message Identity {
  string issuer = 1;
  string name = 2;
}

// Represents a peer in the messaging system.
// It can be a user, chat, or channel.
message Peer {
  oneof kind {
    // Contact identifier [direct thread]
    string contact_id    = 1[
      (buf.validate.field).string.uuid = true
    ];
    // Chat group Id [group thread]
    string group_id    = 2[
      (buf.validate.field).string.uuid = true
    ];
    // Channel Id [channel thread]
    string channel_id = 3[
      (buf.validate.field).string.uuid = true
    ];
    
    // Thread ID
    string thread_id = 4[
      (buf.validate.field).string.uuid = true
    ];
  }
  Identity identity = 5;
}