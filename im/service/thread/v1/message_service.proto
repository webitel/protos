syntax = "proto3";

package webitel.im.service.thread.v1;
import "domain/thread/v1/message.proto";
import "google/api/annotations.proto";

option go_package = "github.com/webitel/protos/messaging/thread/v1;impb";


// The Message service entity provides methods for sending messages to a specified recipient [peer].
service Message {
  // Sends a text message to a specified recipient [peer].
  rpc SendText(webitel.im.domain.thread.v1.SendTextRequest) returns (webitel.im.domain.thread.v1.SendTextResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/text"
      body: "*"
    };
  }
  
  // Sends a document message to a specified recipient [peer].
  // This method sends a document message to the recipient [peer] specified in the request.
  // The document can be uploaded as a internal file via id or provided as a URL.
  rpc SendDocument(webitel.im.domain.thread.v1.SendDocumentRequest) returns (webitel.im.domain.thread.v1.SendDocumentResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/file"
      body: "*"
    };
  }

  // Sends an image message to a specified recipient [peer].
  rpc SendImage(webitel.im.domain.thread.v1.SendImageRequest) returns (webitel.im.domain.thread.v1.SendImageResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/image"
      body: "*"
    };
  }

}
