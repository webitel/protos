syntax = "proto3";

package webitel.messaging.thread.v1;
import "v1/peer.proto";

option go_package = "github.com/webitel/protos/messaging/thread/v1;impb";

// Represents a request to send a text message.
message SendTextRequest {
  Peer   from        = 1;
  Peer   to          = 2;
  string body        = 3;
}

// Represents a response to send a text message.
message SendTextResponse {
  Peer to = 1;
  string id = 2;
}

// Represents `Document` message with necessary fields
// to process it into frequently used `document`
// entity in messaging systems.
message DocumentInput {
  string id = 1;
  string url = 2;
  string file_name = 3; 
  string mime_type = 4;
  optional int64 size_bytes = 5;
}

message DocumentRequest {
  repeated DocumentInput documents = 1;
  string body = 2; 
}

// Represents a request to send a message with document.
message SendDocumentRequest {
  Peer   from        = 1;
  Peer   to          = 2;
  DocumentRequest document = 3;
}

// Represents a response to send message with document. 
message SendDocumentResponse {
  Peer to = 1;
  string id = 2;
}

// Represents `Image` entity with 
// necessary fields. 
message ImageInput {
  string id = 1;
  string link = 2;
  string mime_type = 3;
}

message ImageRequest {
  repeated ImageInput images = 1;
  string body = 2;
}

// Represents a request to send an message with image.
message SendImageRequest {
  Peer   from        = 1;
  Peer   to          = 2;
  ImageRequest image = 3;
}

// Represents a response to send message with image.
message SendImageResponse {
    Peer to = 1;
    string id = 2;
}