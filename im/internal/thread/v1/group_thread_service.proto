syntax = "proto3";

package webitel.im.internal.thread.v1;
import "shared/thread/v1/group_thread.proto";
import "google/api/annotations.proto";

option go_package = "github.com/webitel/protos/messaging/internal/thread/v1;impb";

// This service provides methods for working with group threads.
service GroupThread {
  // Creates a new group thread.
  rpc CreateGroupThread(webitel.im.shared.thread.v1.CreateGroupThreadRequest) returns (webitel.im.shared.thread.v1.CreateGroupThreadResponse) {
    option (google.api.http) = {
      post: "messaging/v1/thread"
      body: "*"
    };
  }

  // Searches for a group thread based on the provided request.
  rpc SearchThread(webitel.im.shared.thread.v1.SearchThreadRequest) returns (webitel.im.shared.thread.v1.SearchThreadResponse) {
    option (google.api.http) = {
      get: "messaging/v1/thread"
    };
  }

  // Add a member to a group thread.
  rpc AddMemberToGroupThread(webitel.im.shared.thread.v1.AddMemberToGroupThreadRequest) returns (webitel.im.shared.thread.v1.AddMemberToGroupThreadResponse) {
    option (google.api.http) = {
      post: "messaging/v1/thread/{thread_id}/members"
      body: "*"
    };
  }
}
