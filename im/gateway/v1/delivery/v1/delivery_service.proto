syntax = "proto3";

package webitel.im.internal.delivery.v1;

import "gateway/v1/delivery/v1/delivery.proto";

option go_package = "github.com/webitel/im-delivery-service/gen/api/v1;impb";

//------------------------------------------------------------------------------
// DELIVERY SERVICE
//------------------------------------------------------------------------------
service Delivery {
  // Stream opens a uni-directional (Server-to-Client) persistent connection.
  // The client sends a StreamRequest to subscribe, and the server responds with
  // a continuous stream of ServerEvents until the connection is closed.
  rpc Stream(webitel.im.shared.delivery.v1.StreamRequest) returns (stream webitel.im.shared.delivery.v1.ServerEvent);
}
