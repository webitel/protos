syntax = "proto3";


package webitel.im.shared.gateway.v1;

import "shared/thread/v1/message.proto";
import "shared/thread/v1/peer.proto";
import "google/api/annotations.proto";
option go_package = "github.com/webitel/im-gateway-service/gen/api/v1;impb";




service Message {
  // Sends a text message to a specified recipient [peer].
  rpc SendText(SendTextRequest) returns (webitel.im.shared.thread.v1.SendTextResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/text"
      body: "*"
    };
  }

  // Sends a document message to a specified recipient [peer].
  // This method sends a document message to the recipient [peer] specified in the request.
  // The document can be uploaded as a internal file via id or provided as a URL.
  rpc SendDocument(SendDocumentRequest) returns (webitel.im.shared.thread.v1.SendDocumentResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/file"
      body: "*"
    };
  }

  // Sends an image message to a specified recipient [peer].
  rpc SendImage(webitel.im.shared.thread.v1.SendImageRequest) returns (webitel.im.shared.thread.v1.SendImageResponse) {
    option (google.api.http) = {
      post: "messaging/v1/messages/image"
      body: "*"
    };
  }
}


message SendTextRequest {
  webitel.im.shared.thread.v1.Peer   to = 1;
  string body        = 2;
}


// Represents a request to send a message with document.
message SendDocumentRequest {
  webitel.im.shared.thread.v1.Peer   to          = 1;
  webitel.im.shared.thread.v1.DocumentRequest document = 2;
}

// Represents a request to send an message with image.
message SendImageRequest {
  webitel.im.shared.thread.v1.Peer   to          = 1;
  webitel.im.shared.thread.v1.ImageRequest image = 2;
}